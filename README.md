# container-vulnerability-agent

Agent software for kubernetes cluster with [https://github.com/protacon/container-vulnerability-scanner](https://github.com/protacon/container-vulnerability-scanner)

Implemented as very minimalistic command line tool expected to run as
cronjob inside of cluster.

## Examples

Get information from proxied cluster.

```bash
kubectl proxy
```

```bash
dotnet run --kubeProxy:http://127.0.0.1:8001
```

Get help

```bash
dotnet run -- --help

Usage:  [options]

Options:
  -?|-h|--help            Show help information
  --kubeProxy <URL>       Kubernetes api proxy address (example http://127.0.0.1:8001). If address is not defined tool excepts to be running inside of pod in cluster.
  --scannerApi <API_URL>  Uri of scanner api. If left empty agent prints what it should send to api if defined.
  --collectGceInfo        Read google cluster information from http://metadata.google.internal. Use cluster name as group id if set.
  --groupId               Group id
  --apiKey                Apikey for reporting api
```